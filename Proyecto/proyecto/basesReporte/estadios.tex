%%%%%----------------------------------------
%%%%%--------------------------------------
%%%%%-------------------------------------
\section{\texttt{Estadios}}
%%%%%-------------------------------------
%%%%%--------------------------------------
%%%%%----------------------------------------


La FIFA nos ha encargado el desarrollo de un sistema para la administración de la venta de boletos
en estadios de fútbol para los partidos del Mundial de 2026. El sistema deberá cubrir los cuatro
estadios de fútbol de México que albergarán partidos del torneo: el Estadio Azteca,
el Estadio Corregidora, el Estadio Hidalgo y el Estadio Jalisco.

%%%%%--------------------------------------
%%%%%-------------------------------------
\subsection{Lista de Requerimientos}
%%%%%-------------------------------------
%%%%%--------------------------------------


%%%%%-------------------------------------
\subsubsection*{Datos para la base de datos:}
%%%%%-------------------------------------

\begin{itemize}
    \item Nombre de los 4 estadios
    \begin{itemize}
        \item Estadio Azteca      $\{$ Capacidad: 83,000, \\
                                       Ubicación: Calzada de Tlalpan 3465, Sta. Úrsula Coapa, Coyoacán, 04650 Ciudad de México, CDMX,\\
                                       Precio de las secciones: Cabecera Local: 300, Cabecera Visita: 300, Lateral Visita: 400, Lateral Local 450, Palcos 1500
                                  $\}$
        \item Estadio Corregidora $\{$ Capacidad: 34,000, \\
                                       Ubicación: Avenidas de las Torres S/N, Centro Sur, 76090 Santiago de Querétaro, Qro.,\\
                                       Precio de las secciones: Cabecera Local: 250, Cabecera Visita: 250, Lateral Visita: 300, Lateral Local 300, Palcos 900
                                  $\}$        
        \item Estadio Hidalgo     $\{$ Capacidad: 30,000, \\
                                       Ubicación: 2da B Juárez 102, Los Jales, Ex Hacienda de Coscotitlán, 42064 Pachuca de Soto, Hgo.,\\
                                       Precio de las secciones: Cabecera Local: 250, Cabecera Visita: 250, Lateral Visita: 300, Lateral Local 300, Palcos 1000
                                  $\}$        
        \item Estadio Jalisco     $\{$ Capacidad: 55,000, \\
                                       Ubicación: C. Siete Colinas 1772, Independencia, 44290 Guadalajara, Jal.,\\
                                       Precio de las secciones: Cabecera Local: 270, Cabecera Visita: 270, Lateral Visita: 350, Lateral Local 400, Palcos 1200
                                  $\}$           
    \end{itemize}
\end{itemize}

\subsubsection*{Restricciones de los datos}

\begin{itemize}
    \item El número de boleto, el nombre del estadio, el nombre de la sección (dentro de un estadio), el número de transacción, el nombre del equipo y el id del partido deben ser únicos.
    \item Las fechas del partido y de la transacción deben ser válidas.
    \item La fecha y hora del partido deben estar en el futuro.
    \item El estadio debe ser uno de los cuatro estadios de México.
    \item La sección y el asiento deben ser válidos dentro del estadio.
    \item El precio y la capacidad del estadio y de la sección deben ser números positivos.
    \item El estado de venta debe ser Vendido o Disponible.
    \item El nombre y la dirección del cliente, así como el país del equipo, deben ser cadenas no vacías.
    \item El teléfono del cliente y el número de tarjeta de crédito deben ser válidos.
    \item El correo electrónico del cliente debe ser una dirección de correo electrónico válida.
    \item La ubicación del estadio debe ser una cadena que describa la ciudad o lugar donde se encuentra.
    \item Debe haber al menos una sección asociada a cada estadio y al menos dos equipos participando en cada partido.
    \item El estadio asociado al partido y el cliente y el boleto asociados a la transacción deben existir en sus respectivas tablas.
    \item El precio en la transacción debe ser igual al precio del boleto multiplicado por la cantidad de boletos en la transacción.
    \item El id del equipo en el partido debe hacer referencia a un equipo existente en la tabla Equipos.
    \item El id del partido en el equipo partido debe hacer referencia a un partido existente en la tabla Partido.
    \item La combinación única de id del equipo y id del partido debe asegurar que un equipo no participe más de una vez en el mismo partido.
\end{itemize}



%%%%%--------------------------------------
%%%%%-------------------------------------
\subsection{Modelo conceptual}
%%%%%-------------------------------------
%%%%%--------------------------------------
\begin{center}
    \includegraphics[scale = .6]{IMA/estadiosMconceptual.png}
\end{center}


%%%%%--------------------------------------
%%%%%-------------------------------------
\subsection{Modelo relacional}
%%%%%-------------------------------------
%%%%%--------------------------------------
\begin{center}
    \includegraphics[scale = .7]{IMA/estadiosMrelacional.png}
\end{center}


%%%%%--------------------------------------
%%%%%-------------------------------------
\subsection{Script de creación}
%%%%%-------------------------------------
%%%%%--------------------------------------

\begin{itemize}
    \item Script completo y sin errores para la creación de todos los elementos que conforman el esquema
            de la base de datos.
    \item El Script debe estar diseñado para la versión 14 de Postgres.
    \item Deben estar contempladas todas las llaves primarias, llaves candidatas y llaves foráneas;
    todas las llaves foráneas deben contar con un trigger de integridad referencial (SET NULL,
    CASCADE o SET DEFAULT).
\end{itemize}


\begin{lstlisting}[caption={Tablas para la BdDatos}, label={lst:sql_estadios}]
    -- Solo los titulos de las tablas    
    CREATE TABLE Clientes(

    );

    CREATE TABLE Estadios(

    );

    CREATE TABLE SeccionesEstadio(

    );

    CREATE TABLE Equipos(

    );

    CREATE TABLE Partidos(

    );

    CREATE TABLE Boletos (

    );

    CREATE TABLE Transacciones(

    );
\end{lstlisting}

    
%%%%%--------------------------------------
%%%%%-------------------------------------
\subsection{Script de Insert}
%%%%%-------------------------------------
%%%%%--------------------------------------
\begin{itemize}
    \item Se deben generar 100 registros para cada tabla.
    \item Si para el buen funcionamiento de la base de datos se requieren más de 100 registros o
            menos de 100 registros en una tabla, se debe explicar claramente la razón, sólo en este caso
            sí se debe incluir un apartado en el reporte final.
\end{itemize}